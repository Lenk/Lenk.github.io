<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drag and Drop List</title>
    <style>
      body {
  font-family: Arial, sans-serif;
}

header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 20px;
  background-color: lightgray;
}

header img {
  height: 50px;
}

header nav {
  display: flex;
}

header nav a {
  margin-right: 20px;
}

header p {
  margin: 0;
}

.dark-mode header {
  background-color: black;
}

.dark-mode header a {
  color: white;
}

.dark-mode header p {
  color: white;
}

main {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 20px;
}

.list,
.drop-box {
  width: 50%;
  padding: 20px;
  background-color: white;
  border: 1px solid gray;
  border-radius: 10px;
  box-shadow: 5px 5px 10px gray;
.list h2,
.drop-box h2 {
  margin: 0;
  text-align: center;
}

.list ul {
  list-style: none;
  padding: 0;
}

.list li {
  padding: 10px;
  margin-bottom: 10px;
  background-color: lightgray;
  border-radius: 5px;
  cursor: pointer;
}

.drop-box ul {
  list-style: none;
  padding: 0;
}

.drop-box li {
  padding: 10px;
  margin-bottom: 10px;
  background-color: lightgreen;
  border-radius: 5px;
  cursor: pointer;
}

footer {
  display: flex;
  align-items: center;
  justify-content: space-between;
  position: fixed;
  bottom: 0;
  right: 0;
  left: 0;
  padding: 20px;
  background-color: lightgray;
  border-top: 1px solid gray;
}

footer img {
  height: 50px;
  cursor: pointer;
}

footer button {
  padding: 10px 20px;
  background-color: lightgreen;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}

.dark-mode footer {
  background-color: black;
}

.dark-mode footer img {
  filter: invert(100%);
}

.dark-mode footer button {
  background-color: gray;
  color: white;
}
    </style>
  </head>
  <body>
    <header>
      <img src="header-logo.png" alt="Logo">
      <nav>
        <a href="#">Home</a>
        <a href="#">About</a>
        <a href="#">Contact</a>
      </nav>
      <p>Welcome to the Drag and Drop List App</p>
    </header>
    <main>
      <section class="list">
        <h2>List of Items</h2>
        <input type="text" id="item-input">
        <button id="add-item-button">Add Item</button>
        <ul id="list">
          <li class="list-item" draggable="true" data-value="1">Item 1</li>
          <li class="list-item" draggable="true" data-value="2">Item 2</li>
          <li class="list-item" draggable="true" data-value="3">Item 3</li>
        </ul>
      </section>
      <section class="drop-box">
        <h2>Drop Box</h2>
        <ul></ul>
      </section>
    </main>
    <footer>
      <img id="toggle-button" src="light-mode-icon.png" alt="Toggle Dark/Light Mode">
      <button id="download-button">Download Data</button>
    </footer>
    <script>
      const list = document.querySelector("#list");
const body = document.querySelector("body");
const toggleButton = document.querySelector("#toggle-button");
const downloadButton = document.querySelector("#download-button");

list.addEventListener("dragstart", function(event) {
  event.dataTransfer.setData("text", event.target.dataset.value);
});

const dropBox = document.querySelector(".drop-box");

dropBox.addEventListener("dragover", function(event) {
  event.preventDefault();
});

dropBox.addEventListener("drop", function(event) {
  event.preventDefault();
  const value = event.dataTransfer.getData("text");
  const item = document.createElement("li");
  item.textContent = `Item ${value}`;
  item.setAttribute("data-value", value);
  dropBox.appendChild(item);
});

const addItemButton = document.querySelector("#add-item-button");
const itemInput = document.querySelector("#item-input");

addItemButton.addEventListener("click", function() {
  const value = itemInput.value;
  const item = document.createElement("li");
  item.textContent = `Item ${value}`;
  item.setAttribute("data-value", value);
  item.setAttribute("draggable", "true");
  list.appendChild(item);
});

toggleButton.addEventListener("click", function() {
  body.classList.toggle("dark-mode");
  if (body.classList.contains("dark-mode")) {
    toggleButton.src = "dark-mode-icon.png";
  } else {
    toggleButton.src = "light-mode-icon.png";
  }
});

downloadButton.addEventListener("click", function() {
  const dropBoxItems = document.querySelectorAll(".drop-box li");
  if (dropBoxItems.length === 0) {
    return;
  }
  let content = "";
  for (const item of dropBoxItems) {
    content += item.dataset.value + "\n";
  }
  const blob = new Blob([content], {type: "text/plain"});
  const a = document.createElement("a");
  a.download = "data.txt";
  a.href = URL.createObjectURL(blob);
  a.style.display = "none";
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
});

document.addEventListener("touchstart", function(event) {
  event.target.classList.add("touch-drag-start");
});

document.addEventListener("touchend", function(event) {
  event.target.classList.remove("touch-drag-start");
});

document.addEventListener("touchmove", function(event) {
  const target = event.target;
  if (!target.classList.contains("touch-drag-start")) {
    return;
  }
  if (!target.classList.contains("list-item")) {
    return;
  }
  event.preventDefault();
  event.dataTransfer = {
    setData: function(type, value) {
      this[type] = value;
    }
  };
    </script>
  </body>
</html>
